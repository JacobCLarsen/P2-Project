<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="assets/circular-favicon.svg" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Worker Page</title>
    <link rel="stylesheet" href="css/style.css" />
    <script type="module">
      // Import buffer
      import { Buffer } from "https://esm.sh/buffer";
      window.Buffer = Buffer; // Make buffer globaly Available

      // Import ctrypto
      import * as CryptoJS from "https://cdn.skypack.dev/crypto-js";
      window.CryptoJS = CryptoJS;
    </script>
    <script type="module" src="requireAuth.js"></script>
    <script type="module" src="handleFileUpload.js"></script>
  </head>
  <body>
    <nav>
      <script src="navbar.js"></script>
    </nav>

    <!-- Main content and sidebar -->
    <div class="container">
      <!-- Main content section -->
      <div class="main">
        <div id="main-section-container">
          <div id="startBtn">
            <p id="startBtnContent">Click to Start Working</p>
            <p id="startBtnLoad"></p>
          </div>
          <p id="messageBox">Please leave this page open to continue working</p>
          <section id="activeTasks">
            <ul id="latestCompletedTask"></ul>
          </section>
        </div>
      </div>

      <!-- Sidebar for completed tasks -->
      <aside class="sidebar">
        <div id="sidebarBtns">
          <div id="taskUploadContainer">
            <button id="addUsertaskBtn">Upload Task</button>
            <div id="uploadFormContainer">
              <form id="uploadForm" method="post" enctype="multipart/form-data">
                <input name="file" type="file" multiple accept=".csv" />
                <button type="submit">Upload</button>
              </form>
              <div id="uploadInfoContainer">
                <p id="uploadMessage"></p>
                <p id="uploadHashCount"></p>
              </div>
            </div>
          </div>
          <button id="newTaskBtn">Add Demo Task</button>
          <button id="clearQueueBtn">Clear</button>
        </div>
        <h3>Task Queue</h3>
        <ul id="taskqueue"></ul>
      </aside>
    </div>

    <script type="module" src="workerpage-script.js"></script>
  </body>
</html>
